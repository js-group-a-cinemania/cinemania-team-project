import{a as y}from"./vendor-DW_MHI2K.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("modalTeam"),n=document.querySelector(".footerButton"),o=document.querySelector(".modalCloseButton");n.onclick=function(){t.style.display="block"},o.onclick=function(){t.style.display="none"},window.onclick=function(r){r.target===t&&(t.style.display="none")},document.onkeydown=function(r){r.key==="Escape"&&(t.style.display="none")}});const g="9a0d30072ad38e4a4c69d8b167f5dfc1",f="https://api.themoviedb.org/3",d="yedek-gorsel-url.jpg",u=async(t,n={})=>{var o;try{return(await y.get(`${f}${t}`,{params:{api_key:g,language:"en-US",...n}})).data}catch(r){return console.error(`API isteği basarisiz (${t}):`,((o=r.response)==null?void 0:o.data)||r.message),null}},h=async()=>{var n;const t=await u("/genre/movie/list");return((n=t==null?void 0:t.genres)==null?void 0:n.reduce((o,r)=>(o[r.id]=r.name,o),{}))||{}},w=async()=>{const t=await u("/trending/movie/day");return(t==null?void 0:t.results)||[]},L=async(t=3)=>{const n=document.querySelector(".weeklyTrendsContent");n.innerHTML="";try{const[o,r]=await Promise.all([w(),h()]);if(!o.length){console.warn("Film bulunamadı."),n.innerHTML="<p>Film bulunamadı.</p>";return}o.slice(0,t).forEach(e=>{var l;const s=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:d,a=((l=e.genre_ids)==null?void 0:l.map(m=>r[m]||"Unknown").join(", "))||"Bilinmiyor",p=e.release_date||"Tarih bilinmiyor",i=document.createElement("div");i.classList.add("MovieCard"),i.style.cursor="pointer",i.dataset.movie=JSON.stringify(e),i.innerHTML=`
        <img class="MovieCardİmg" src="${s}" alt="${e.title}" />
        <div class="gradient-container"></div>
        <h3>${e.title}</h3>
        <p>${a} / ${p}</p>
      `,i.addEventListener("click",()=>v(e)),n.appendChild(i)})}catch(o){console.error("Filmler yüklenirken hata oluştu:",o),n.innerHTML="<p>Failed to load movies. Please try again later.</p>"}},v=t=>{const n=document.querySelector("#WTmovieModal"),o=document.querySelector(".WTmodal-content");if(!n||!o){console.error("Modal elemanları bulunamadı.");return}const r=t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:d;o.innerHTML=`
    <span class="close">&times;</span>
    <img src="${r}" alt="${t.title}" class="WTmodal-img"/>
    <h2>${t.title}</h2>
    <p><strong>Release Date:</strong> ${t.release_date||"Tarih bilinmiyor"}</p>
    <p><strong>Popularity:</strong> ${t.popularity||"Bilinmiyor"}</p>
    <p><strong>Overview:</strong> ${t.overview||"Açıklama mevcut değil."}</p>
  `,n.style.display="block";const e=s=>{(s.target===n||s.target.classList.contains("close")||s.key==="Escape")&&(n.style.display="none",window.removeEventListener("click",e),window.removeEventListener("keydown",e))};window.addEventListener("click",e),window.addEventListener("keydown",e)};document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>L(3),100)});var c;(c=document.querySelector("#viewAll"))==null||c.addEventListener("click",()=>{window.location.href="catalog.html"});
//# sourceMappingURL=weekly-trends-D_P5lhyl.js.map
